# EventSite â€“ Web Sistem Manajemen Event Mahasiswa

Dokumentasi resmi untuk struktur project, alur kerja, dan hubungan antar komponen dalam aplikasi **EventSite**.

---

# ğŸ“ Struktur Direktori

```
EventSite/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ env.php
â”‚   â””â”€â”€ db.php
â”‚
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ AuthController.php
â”‚   â”œâ”€â”€ EventController.php
â”‚   â”œâ”€â”€ ParticipantController.php
â”‚   â””â”€â”€ NotificationController.php
â”‚
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ User.php
â”‚   â”œâ”€â”€ Event.php
â”‚   â”œâ”€â”€ Participant.php
â”‚   â”œâ”€â”€ Notification.php
â”‚   â””â”€â”€ Certificate.php
â”‚
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ NotificationService.php
â”‚   â””â”€â”€ GoogleCalendarService.php
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.php
â”‚   â”œâ”€â”€ login.php
â”‚   â”œâ”€â”€ dashboard.php
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ auth.php
â”‚       â”œâ”€â”€ events.php
â”‚       â”œâ”€â”€ participants.php
â”‚       â””â”€â”€ notifications.php
â”‚
â”œâ”€â”€ .env
â””â”€â”€ vendor/
```

---

# ğŸ” Penjelasan Folder & Hubungan Antar Komponen

## **1. config/**

#### `env.php`

* Memuat environment variable dari file `.env`.
* Berisi konfigurasi sensitif seperti kredensial database & API key.

#### `db.php`

* Menginisialisasi koneksi database menggunakan **PDO**.
* Dipanggil oleh *semua model*.

**Alur:**

```
Controller â†’ Model â†’ db.php â†’ Database
```

---

## **2. models/**

Model merepresentasikan tabel database dan berisi fungsi CRUD.

### Model yang tersedia:

* **User** â†’ data akun & autentikasi
* **Event** â†’ data event
* **Participant** â†’ pendaftaran peserta
* **Notification** â†’ log pengiriman email
* **Certificate** â†’ sertifikat peserta

**Relasi antar model:**

```
User 1â€”* Participant *â€”1 Event
Event 1â€”* Notification
Participant 1â€”1 Certificate
```

---

## **3. controllers/**

Menangani *logic aplikasi* dan request dari endpoint.

### **AuthController**

* Login, register, session handling
* Memanggil model `User`

### **EventController**

* CRUD event
* Memanggil model `Event` & `GoogleCalendarService`

### **ParticipantController**

* Pendaftaran peserta event
* Memanggil `Participant`, `Event`, dan `NotificationService`

### **NotificationController**

* Mengambil log notifikasi
* Mengirim notifikasi manual bila diperlukan

**Alur umum:**

```
API â†’ Controller â†’ Model â†’ DB
                   â†³ Service (opsional)
```

---

## **4. services/**

Layer yang menangani integrasi eksternal.

### **NotificationService.php**

* Mengirim email (PHPMailer / SMTP)
* Mencatat log ke model `Notification`

### **GoogleCalendarService.php**

* Sinkronisasi event ke Google Calendar API
* Digunakan ketika event dibuat/diupdate

**Flow Service:**

```
Controller â†’ Service â†’ API Eksternal
                        â†“
                     Model Log
```

---

## **5. public/**

File yang bisa diakses langsung oleh user.

### File utama:

* `index.php` â€” Homepage
* `login.php` â€” Halaman login
* `dashboard.php` â€” Halaman dashboard user / admin

### **public/api/** (Endpoint AJAX)

Semua request frontend dikirim ke file ini.

| Endpoint            | Controller yang dipanggil |
| ------------------- | ------------------------- |
| `auth.php`          | AuthController            |
| `events.php`        | EventController           |
| `participants.php`  | ParticipantController     |
| `notifications.php` | NotificationController    |

**Flow lengkap request browser:**

```
Browser â†’ public/api/events.php â†’ EventController â†’ Event Model â†’ DB
```

---

## **6. vendor/**

Folder hasil **Composer**. Berisi library seperti:

* Google API Client
* PHPMailer
* Dotenv Loader

---

## **7. .env**

Berisi configuration:

* DB_USERNAME, DB_PASSWORD
* SMTP_SERVER
* GOOGLE_API_KEY
* APP_URL

Dipanggil oleh `config/env.php`.

---

# ğŸ”— Diagram Alur Kerja (MVC + Services)

```
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚          User            â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTP Request
                           â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚     public/api/*.php   â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚   Controller   â”‚
                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                               â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚     Model      â”‚                â”‚    Service    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼                                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚    Database    â”‚                â”‚ API Eksternal â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## **8. tes_...... dan adm_apprv_event**

Folder ini berisi skrip untuk pengujian unit dan integrasi.
